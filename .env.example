# VibePilot Environment Variables
# Copy this file to .env.local and adjust values as needed

# ============================================
# Web Application (Next.js)
# ============================================

# WebSocket URL for connecting to the agent
# Default: ws://localhost:9800
NEXT_PUBLIC_WS_URL=ws://localhost:9800

# Signaling server URL for WebRTC negotiation (optional)
# Only needed if using a remote signaling server
# Default: ws://localhost:9801
# NEXT_PUBLIC_SIGNALING_URL=ws://localhost:9801

# ============================================
# Agent Server (Node.js Backend)
# ============================================

# Port for WebSocket server
# Default: 9800
PORT=9800

# Session timeout in seconds after client disconnect
# Default: 300 (5 minutes)
SESSION_TIMEOUT=300

# Working directory for PTY sessions
# Default: current working directory
# WORKSPACE_DIR=/path/to/your/workspace

# Default shell for terminal sessions
# Default: $SHELL environment variable or /bin/bash
# DEFAULT_SHELL=/bin/zsh

# ============================================
# Signaling Server (WebRTC)
# ============================================

# Port for signaling server
# Default: 9801
# SIGNALING_PORT=9801

# ============================================
# Logging Settings
# ============================================

# Log level (trace, debug, info, warn, error, fatal)
# Default: 'debug' in development, 'info' in production
LOG_LEVEL=info

# ============================================
# Development Settings
# ============================================

# Node.js environment
# NODE_ENV=development

# ============================================
# Authentication Mode
# ============================================

# Auth mode: 'none' (local), 'token' (shared secret), 'supabase' (cloud)
# Default: none (no authentication, direct connect)
# NEXT_PUBLIC_AUTH_MODE=none

# ---- Token mode ----
# Shared secret token for simple auth (set the same on agent and frontend)
# VP_TOKEN=your-secret-token

# ---- Supabase mode (Cloud) ----
# Supabase project URL (from supabase.com dashboard)
# NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
# NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJ...

# Agent-side Supabase config (for registry and JWT verification)
# VP_SUPABASE_URL=https://your-project.supabase.co
# VP_SUPABASE_KEY=eyJ...  (service_role key, keep secret!)

# ============================================
# Agent Registration (Token / Supabase mode)
# ============================================

# Agent display name (shown in agent selector)
# Default: hostname
# VP_AGENT_NAME=Home Mac

# Public WebSocket URL for this agent (how clients reach it)
# VP_PUBLIC_URL=wss://your-server.example.com:9800

# File-based registry path (token mode only)
# Default: ~/.vibepilot/agents.json
# VP_REGISTRY_PATH=~/.vibepilot/agents.json

# ============================================
# Production Settings
# ============================================

# For production deployment, consider:
# - Using a reverse proxy (Caddy/nginx) for WebSocket connections
# - Enabling HTTPS for secure WebSocket (wss://)
# - Setting appropriate CORS policies
# - Configuring firewall rules for ports 9800-9801
